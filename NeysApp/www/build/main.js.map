{"version":3,"sources":["../../src/pages/shared/reading.service.ts","../../src/pages/shared/settings.service.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/pages/reading-list/reading-list.ts","../../src/pages/settings/settings.ts","../../src/pages/newsfeed/newsfeed.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/shared/source.pipe.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Injectable} from \"@angular/core\";\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {Storage} from \"@ionic/storage\";\nimport {NewsEntry} from \"./news-entry\";\n\n@Injectable()\nexport class ReadingService {\n  readingList$: BehaviorSubject<Array<NewsEntry>> = new BehaviorSubject<Array<NewsEntry>>(null);\n\n  constructor(private storage: Storage) {\n    this.initDatabaseIfMissing();\n  }\n\n  initDatabaseIfMissing() {\n    this.storage.get(\"readingList\").then(\n      (storageSettings) => {\n        if (storageSettings == null) {\n          this.storage.set(\"readingList\", []);\n        }\n        this.readingList$.next(storageSettings);\n      }\n    );\n  }\n\n  addToReadingList(news: NewsEntry) {\n    let currentReadingList = this.readingList$.getValue();\n    if (currentReadingList.filter(readingListEntry => readingListEntry.url === news.url).length > 0) {\n      return;\n    }\n    currentReadingList.push(news);\n    this.storage.set(\"readingList\", currentReadingList);\n    this.readingList$.next(currentReadingList);\n  }\n\n  removeFromReadingList(news: NewsEntry) {\n    let currentReadingList = this.readingList$.getValue();\n    let filteredList = currentReadingList.filter(readingListEntry => readingListEntry.url !== news.url);\n    if (filteredList.length === currentReadingList.length) {\n      return;\n    }\n    this.storage.set(\"readingList\", filteredList);\n    this.readingList$.next(filteredList);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shared/reading.service.ts","import {Injectable} from \"@angular/core\";\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {Storage} from \"@ionic/storage\";\n\n@Injectable()\nexport class SettingsService {\n  sourcesSettings$: BehaviorSubject<Array<{source: string, checked: boolean}>> = new BehaviorSubject<Array<{source: string, checked: boolean}>>(null);\n  ressourceSettings$: BehaviorSubject<Array<{ressource: string, checked: boolean}>> = new BehaviorSubject<Array<{ressource: string, checked: boolean}>>(null);\n\n  constructor(private storage: Storage) {\n    this.initDatabaseIfMissing();\n  }\n\n  initDatabaseIfMissing() {\n    this.storage.get(\"sourcesSettings\").then(\n      (storageSettings) => {\n        if (storageSettings == null) {\n          this.storage.set(\"sourcesSettings\", [\n            {source: \"kleinezeitung\", checked: true},\n            {source: \"derstandard\", checked: true},\n            {source: \"ots\", checked: true},\n            {source: \"diepresse\", checked: true},\n            {source: \"wienerzeitung\", checked: true}\n          ]);\n        }\n        this.sourcesSettings$.next(storageSettings);\n      }\n    );\n\n    this.storage.get(\"ressourcesSettings\").then(\n      (storageSettings) => {\n        if (storageSettings == null) {\n          this.storage.set(\"ressourcesSettings\", [\n            {ressource: \"wirtschaft\", checked: true},\n            {ressource: \"sport\", checked: true},\n            {ressource: \"kultur\", checked: true},\n            {ressource: \"leben\", checked: true},\n            {ressource: \"politik\", checked: true},\n            {ressource: \"bildung\", checked: true}\n          ]);\n        }\n        this.ressourceSettings$.next(storageSettings);\n      });\n  }\n\n  setSourcesSetting(source: string, checked: boolean) {\n    let newSettings = this.sourcesSettings$.getValue().map(value =>\n      value.source === source ? {source: source, checked: checked} : value\n    );\n    this.storage.set(\"sourcesSettings\", newSettings);\n    this.sourcesSettings$.next(newSettings);\n  }\n\n  setRessourcesSetting(ressource: string, checked: boolean) {\n    let newSettings = this.ressourceSettings$.getValue().map(value =>\n      value.ressource === ressource ? {ressource: ressource, checked: checked} : value\n    );\n    this.storage.set(\"ressourcesSettings\", newSettings);\n    this.ressourceSettings$.next(newSettings);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shared/settings.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 165;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 165\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 209;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 209\n// module chunks = 0","import { Component } from '@angular/core';\n\nimport { SaveForLaterPage } from '../reading-list/reading-list';\nimport { SettingsPage } from '../settings/settings';\nimport { NewsfeedPage } from '../newsfeed/newsfeed';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = NewsfeedPage;\n  tab2Root = SaveForLaterPage;\n  tab3Root = SettingsPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import {Component, OnInit} from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport {ReadingService} from \"../shared/reading.service\";\nimport {NewsEntry} from \"../shared/news-entry\";\nimport {InAppBrowser} from \"@ionic-native/in-app-browser\";\n\n@Component({\n  selector: 'page-about',\n  templateUrl: 'reading-list.html'\n})\nexport class SaveForLaterPage implements OnInit {\n  visibleNews: Array<NewsEntry> = [];\n\n  constructor(public navCtrl: NavController,\n              private iab: InAppBrowser,\n              private readingService: ReadingService) {\n  }\n\n  ngOnInit() {\n    this.readingService.readingList$.subscribe(list => this.visibleNews = list);\n  }\n\n  loadInAppBrowser(url: string) {\n    this.iab.create(url);\n  }\n\n  removeFromReadingList(event: Event, news: NewsEntry) {\n    event.stopPropagation();\n    this.readingService.removeFromReadingList(news);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reading-list/reading-list.ts","import {Component, OnInit} from '@angular/core';\nimport {NavController} from 'ionic-angular';\nimport {Storage} from \"@ionic/storage\";\nimport {SettingsService} from \"../shared/settings.service\";\n\n@Component({\n  selector: 'page-contact',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage implements OnInit {\n  settingsTab: string = 'sources';\n  sourcesSettings: Array<{source: string, checked: boolean}>;\n  ressourceSettings: Array<{ressource: string, checked: boolean}>;\n\n  constructor(public navCtrl: NavController,\n              private settingsService: SettingsService,\n              private storage: Storage) {\n  }\n\n  ngOnInit() {\n    this.settingsService.ressourceSettings$.subscribe(value => this.ressourceSettings = value);\n    this.settingsService.sourcesSettings$.subscribe(value => this.sourcesSettings = value);\n  }\n\n  toggleRessourceSelect(ressource: string, event: any) {\n    this.settingsService.setRessourcesSetting(ressource, event._value);\n  }\n\n  toggleSourceSelect(source: string, event: any) {\n    this.settingsService.setSourcesSetting(source, event._value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import {Component, OnInit} from '@angular/core';\nimport {NavController} from 'ionic-angular';\nimport {NewsEntry} from \"../shared/news-entry\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {InAppBrowser} from \"@ionic-native/in-app-browser\";\nimport {SettingsService} from \"../shared/settings.service\";\nimport {filter} from \"rxjs/operators\";\nimport {Observable} from \"rxjs\";\nimport {Subject} from \"rxjs/Subject\";\nimport {ReadingService} from \"../shared/reading.service\";\nimport {Vibration} from \"@ionic-native/vibration\";\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'newsfeed.html'\n})\nexport class NewsfeedPage implements OnInit {\n  visibleNews: Array<NewsEntry> = [];\n  loadedNews: Subject<Array<NewsEntry>> = new Subject();\n\n  constructor(public navCtrl: NavController,\n              private settingsService: SettingsService,\n              private readingService: ReadingService,\n              private iab: InAppBrowser,\n              private vibrator: Vibration,\n              private http: HttpClient) {\n  }\n\n  ngOnInit() {\n    this.http.get<NewsEntry[]>(\"https://lit-dusk-63084.herokuapp.com/feed\").subscribe(res => {\n      this.loadedNews.next(res);\n    });\n    Observable.combineLatest(\n      this.settingsService.sourcesSettings$,\n      this.settingsService.ressourceSettings$,\n      this.loadedNews,\n      (sources, ressources, news) => {return {sources: sources, ressources: ressources, news: news};}\n    ).pipe(\n      filter(combined => combined.sources != null && combined.sources.length > 0),\n      filter(combined => combined.ressources != null && combined.ressources.length > 0),\n      filter(combined => combined.news != null && combined.news.length > 0)\n    ).subscribe((combined) => {\n      this.visibleNews = combined.news.filter(value =>\n        combined.sources.filter(source => source.source === value.source && source.checked).length > 0\n        && combined.ressources.filter(ressource => ressource.ressource === value.resource && ressource.checked).length > 0\n      );\n    });\n  }\n\n  loadInAppBrowser(url: string) {\n    this.iab.create(url);\n  }\n\n  addToReadingList(event: Event, news: NewsEntry) {\n    event.stopPropagation();\n    this.vibrator.vibrate(1000);\n    this.readingService.addToReadingList(news);\n  }\n\n  existsInReadingList(news: NewsEntry): boolean {\n    return this.readingService.readingList$.getValue().filter(value => news.url === value.url).length > 0;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/newsfeed/newsfeed.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {ErrorHandler, NgModule} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {IonicApp, IonicErrorHandler, IonicModule} from 'ionic-angular';\nimport {MyApp} from './app.component';\n\nimport {SaveForLaterPage} from '../pages/reading-list/reading-list';\nimport {SettingsPage} from '../pages/settings/settings';\nimport {NewsfeedPage} from '../pages/newsfeed/newsfeed';\nimport {TabsPage} from '../pages/tabs/tabs';\n\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {InAppBrowser} from \"@ionic-native/in-app-browser\";\nimport {IonicStorageModule} from \"@ionic/storage\";\nimport {SettingsService} from \"../pages/shared/settings.service\";\nimport {SourcePipe} from \"../pages/shared/source.pipe\";\nimport {ReadingService} from \"../pages/shared/reading.service\";\nimport {Vibration} from \"@ionic-native/vibration\";\n\n@NgModule({\n  declarations: [\n    MyApp,\n    SaveForLaterPage,\n    SettingsPage,\n    NewsfeedPage,\n    SourcePipe,\n    TabsPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicStorageModule.forRoot(),\n    HttpClientModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    SaveForLaterPage,\n    SettingsPage,\n    NewsfeedPage,\n    TabsPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    InAppBrowser,\n    Vibration,\n    SettingsService,\n    ReadingService,\n    SourcePipe,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { TabsPage } from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = TabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Pipe, PipeTransform} from \"@angular/core\";\n\n@Pipe({\n  pure: true,\n  name: 'sourcePipe'\n})\nexport class SourcePipe implements PipeTransform {\n\n  transform(value: any, ...args: any[]): any {\n    switch (value) {\n      case 'kleinezeitung': return 'KleineZeitung.at';\n      case 'derstandard': return 'derStandard.at';\n      case 'ots': return 'ots.at';\n      case 'diepresse': return 'DiePresse.at';\n      case 'wienerzeitung': return 'WienerZeitung.at';\n      default: return 'UnknownSource';\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shared/source.pipe.ts"],"sourceRoot":""}